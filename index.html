<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ballpenbox</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Authentication Screen -->
        <div id="authScreen" class="auth-screen">
            <!-- Welcome Landing with Split Layout -->
            <div id="welcomeSection" class="welcome-section">
                <div class="welcome-split-container">
                    <!-- Left Side: Branding and Features -->
                    <div class="welcome-left">
                        <div class="welcome-content">
                            <div class="app-branding">
                                <div class="app-icon">
                                    <i class="fas fa-sticky-note"></i>
                                </div>
                                <h1>ballpenbox</h1>
                                <p class="tagline">Simple. Secured. Synced.</p>
                            </div>
                            
                            <div class="feature-highlights">
                                <div class="feature-item">
                                    <i class="fas fa-shield-alt"></i>
                                    <h3>Bank-Grade Security</h3>
                                    <p>End-to-end encryption keeps your data safe</p>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-cloud"></i>
                                    <h3>Sync Everywhere</h3>
                                    <p>Access your notes from any device, anywhere</p>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-pen-fancy"></i>
                                    <h3>Rich Features</h3>
                                    <p>Notes, passwords, documents, and creative projects</p>
                                </div>
                            </div>
                            
                            <div class="trust-indicators">
                                <div class="trust-item">
                                    <i class="fas fa-lock"></i>
                                    <span>256-bit encryption</span>
                                </div>
                                <div class="trust-item">
                                    <i class="fas fa-user-shield"></i>
                                    <span>Zero-knowledge architecture</span>
                                </div>
                                <div class="trust-item">
                                    <i class="fas fa-eye-slash"></i>
                                    <span>Private by design</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Side: Login Form (Always Visible) -->
                    <div class="welcome-right">
                        <div class="auth-container">
                            <div class="auth-header">
                                <h2>Welcome</h2>
                                <p>Sign in to your ballpenbox account</p>
                            </div>
                            
                            <form id="loginForm" class="auth-form">
                                <div class="form-group">
                                    <label for="loginEmail" class="form-label">Email Address</label>
                                    <input type="email" id="loginEmail" class="form-input" placeholder="Enter your email" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="loginPassword" class="form-label">Password</label>
                                    <div class="password-input-container">
                                        <input type="password" id="loginPassword" class="form-input" placeholder="Enter your password" required>
                                        <button type="button" class="password-toggle" onclick="togglePasswordVisibility('loginPassword')">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="form-options">
                                    <label class="checkbox-container">
                                        <input type="checkbox" id="rememberMe">
                                        <span class="checkmark"></span>
                                        Remember me
                                    </label>
                                    <a href="#" class="forgot-password" onclick="showForgotPassword()">Forgot password?</a>
                                </div>
                                
                                <button type="submit" class="btn-primary full-width" id="loginBtn">
                                    <span class="btn-text">Sign In</span>
                                    <div class="btn-spinner hidden">
                                        <div class="spinner"></div>
                                    </div>
                                </button>
                                
                                <div class="auth-divider">
                                    <span>or continue with</span>
                                </div>
                                
                                <div class="social-login">
                                    <button type="button" class="btn-social google" onclick="loginWithGoogle()">
                                        <i class="fab fa-google"></i>
                                        Google
                                    </button>
                                    <button type="button" class="btn-social github" onclick="loginWithGitHub()">
                                        <i class="fab fa-github"></i>
                                        GitHub
                                    </button>
                                </div>
                                
                                <div class="auth-switch">
                                    <p>Don't have an account? <a href="#" onclick="showRegister()">Sign up</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Login Form (now integrated into welcome section above) -->
            <div id="loginSection" class="auth-form-section hidden">
                <!-- This section is now unused - login form is in the welcome section -->
            </div>
            
            <!-- Registration Form -->
            <div id="registerSection" class="auth-form-section hidden">
                <div class="auth-container">
                    <div class="auth-header">
                        <button class="back-btn" onclick="showWelcome()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2>Create Account</h2>
                        <p>Join thousands of users who trust ballpenbox</p>
                    </div>
                    
                    <form id="registerForm" class="auth-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName" class="form-label">First Name</label>
                                <input type="text" id="firstName" class="form-input" placeholder="John" required>
                            </div>
                            <div class="form-group">
                                <label for="lastName" class="form-label">Last Name</label>
                                <input type="text" id="lastName" class="form-input" placeholder="Doe" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerEmail" class="form-label">Email Address</label>
                            <input type="email" id="registerEmail" class="form-input" placeholder="john@example.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerPassword" class="form-label">Password</label>
                            <div class="password-input-container">
                                <input type="password" id="registerPassword" class="form-input" placeholder="Create a strong password" required>
                                <button type="button" class="password-toggle" onclick="togglePasswordVisibility('registerPassword')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="password-strength" id="registerPasswordStrength" style="display: none;">
                                <div class="strength-bar">
                                    <div class="strength-fill"></div>
                                </div>
                                <div class="strength-text"></div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirmPassword" class="form-label">Confirm Password</label>
                            <div class="password-input-container">
                                <input type="password" id="confirmPassword" class="form-input" placeholder="Confirm your password" required>
                                <button type="button" class="password-toggle" onclick="togglePasswordVisibility('confirmPassword')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="agreeTerms" required>
                                <span class="checkmark"></span>
                                I agree to the <a href="#" onclick="showTerms()">Terms of Service</a> and <a href="#" onclick="showPrivacy()">Privacy Policy</a>
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="marketingEmails">
                                <span class="checkmark"></span>
                                Send me product updates and tips (optional)
                            </label>
                        </div>
                        
                        <button type="submit" class="btn-primary full-width" id="registerBtn">
                            <span class="btn-text">Create Account</span>
                            <div class="btn-spinner hidden">
                                <div class="spinner"></div>
                            </div>
                        </button>
                        
                        <div class="auth-divider">
                            <span>or sign up with</span>
                        </div>
                        
                        <div class="social-login">
                            <button type="button" class="btn-social google" onclick="registerWithGoogle()">
                                <i class="fab fa-google"></i>
                                Google
                            </button>
                            <button type="button" class="btn-social github" onclick="registerWithGitHub()">
                                <i class="fab fa-github"></i>
                                GitHub
                            </button>
                        </div>
                        
                        <div class="auth-switch">
                            <p>Already have an account? <a href="#" onclick="showLogin()">Sign in</a></p>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Forgot Password Form -->
            <div id="forgotPasswordSection" class="auth-form-section hidden">
                <div class="auth-container">
                    <div class="auth-header">
                        <button class="back-btn" onclick="showLogin()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2>Reset Password</h2>
                        <p>Enter your email to receive a reset link</p>
                    </div>
                    
                    <form id="forgotPasswordForm" class="auth-form">
                        <div class="form-group">
                            <label for="resetEmail" class="form-label">Email Address</label>
                            <input type="email" id="resetEmail" class="form-input" placeholder="Enter your email" required>
                        </div>
                        
                        <button type="submit" class="btn-primary full-width" id="resetBtn">
                            <span class="btn-text">Send Reset Link</span>
                            <div class="btn-spinner hidden">
                                <div class="spinner"></div>
                            </div>
                        </button>
                        
                        <div class="auth-switch">
                            <p>Remember your password? <a href="#" onclick="showLogin()">Sign in</a></p>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Main Application -->
        <div id="mainApp" class="main-app hidden">
            <!-- Header -->
            <header class="app-header">
                <div class="header-content">
                    <!-- Mobile hamburger menu button -->
                    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">
                        <div class="hamburger">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </button>
                    
                    <h1 class="app-logo" onclick="event.stopPropagation(); if(window.app) window.app.switchModule('dashboard');" style="cursor: pointer;"><i class="fas fa-sticky-note"></i> ballpenbox</h1>
                    <div class="header-actions">
                        <div class="search-container">
                            <input type="text" id="globalSearch" placeholder="Search everywhere..." />
                            <i class="fas fa-search"></i>
                        </div>
                        <!-- Mobile search icon (hidden on desktop) -->
                        <button class="mobile-search-icon" onclick="openMobileSearch()" aria-label="Search" style="display: none;">
                            <i class="fas fa-search"></i>
                        </button>
                        <button class="theme-toggle" onclick="toggleTheme()">
                            <i class="fas fa-moon"></i>
                        </button>
                        <div class="user-menu">
                            <button class="user-profile-btn" onclick="toggleUserMenu()">
                                <div class="user-avatar" id="userAvatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <span class="user-name" id="userName">User</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="user-dropdown hidden" id="userDropdown">
                                <div class="user-info">
                                    <div class="user-avatar-large" id="userAvatarLarge">U</div>
                                    <div class="user-details">
                                        <div class="user-name-large" id="userNameLarge">User</div>
                                        <div class="user-email" id="userEmail">user@example.com</div>
                                        <div class="two-factor-status disabled" id="twoFactorStatus">
                                            <i class="fas fa-shield"></i>
                                            Disabled
                                        </div>
                                    </div>
                                </div>
                                <div class="dropdown-divider"></div>
                                <div class="dropdown-item" onclick="showAccountSettings()">
                                    <i class="fas fa-user-cog"></i>
                                    Account Settings
                                </div>
                                <div class="dropdown-item" onclick="showSecuritySettings()">
                                    <i class="fas fa-shield-alt"></i>
                                    Security Settings
                                </div>
                                <div class="dropdown-item" onclick="showBilling()">
                                    <i class="fas fa-credit-card"></i>
                                    Billing & Plans
                                </div>
                                <div class="dropdown-item" onclick="showHelp()">
                                    <i class="fas fa-question-circle"></i>
                                    Help & Support
                                </div>
                                <div class="dropdown-divider"></div>
                                <div class="dropdown-item logout" onclick="logoutUser()">
                                    <i class="fas fa-sign-out-alt"></i>
                                    Sign Out
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Desktop Navigation -->
            <nav class="app-nav desktop-nav">
                <div class="nav-item active" data-module="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" data-module="notes">
                    <i class="fas fa-pen"></i>
                    <span>Notes</span>
                </div>
                <div class="nav-item" data-module="banking">
                    <i class="fas fa-university"></i>
                    <span>Banking</span>
                </div>
                <div class="nav-item" data-module="passwords">
                    <i class="fas fa-key"></i>
                    <span>Passwords</span>
                </div>
                <div class="nav-item" data-module="documents">
                    <i class="fas fa-file-alt"></i>
                    <span>Documents</span>
                </div>
                <div class="nav-item" data-module="creative">
                    <i class="fas fa-palette"></i>
                    <span>Creative</span>
                </div>
                <div class="nav-item" data-module="todos">
                    <i class="fas fa-tasks"></i>
                    <span>To-Do</span>
                </div>
            </nav>

            <!-- Mobile Navigation Overlay -->
            <div class="mobile-nav-overlay" id="mobileNavOverlay">
                <div class="mobile-nav-content">
                    <div class="mobile-nav-header">
                        <h2 class="app-logo-mobile" onclick="event.stopPropagation(); if(window.app) window.app.switchModule('dashboard');" style="cursor: pointer;"><i class="fas fa-sticky-note"></i> ballpenbox</h2>
                        <button class="mobile-nav-close" onclick="toggleMobileMenu()" aria-label="Close menu">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <nav class="mobile-nav">
                        <div class="mobile-nav-item active" data-module="dashboard" onclick="navigateToModule('dashboard')">
                            <i class="fas fa-home"></i>
                            <span>Dashboard</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="mobile-nav-item" data-module="notes" onclick="navigateToModule('notes')">
                            <i class="fas fa-pen"></i>
                            <span>Notes</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="mobile-nav-item" data-module="banking" onclick="navigateToModule('banking')">
                            <i class="fas fa-university"></i>
                            <span>Banking</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="mobile-nav-item" data-module="passwords" onclick="navigateToModule('passwords')">
                            <i class="fas fa-key"></i>
                            <span>Passwords</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="mobile-nav-item" data-module="documents" onclick="navigateToModule('documents')">
                            <i class="fas fa-file-alt"></i>
                            <span>Documents</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="mobile-nav-item" data-module="creative" onclick="navigateToModule('creative')">
                            <i class="fas fa-palette"></i>
                            <span>Creative</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="mobile-nav-item" data-module="todos" onclick="navigateToModule('todos')">
                            <i class="fas fa-tasks"></i>
                            <span>To-Do</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </nav>

                    <div class="mobile-nav-footer">
                        <div class="mobile-nav-actions">
                            <button class="mobile-action-btn" onclick="toggleTheme()">
                                <i class="fas fa-moon"></i>
                                <span>Theme</span>
                            </button>
                            <button class="mobile-action-btn logout" onclick="logoutUser()">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Sign Out</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mobile Search Overlay -->
            <div class="mobile-search-overlay" id="mobileSearchOverlay">
                <div class="mobile-search-container">
                    <div class="mobile-search-header">
                        <div class="mobile-search-input-container">
                            <i class="fas fa-search mobile-search-input-icon"></i>
                            <input type="text" id="mobileSearchInput" class="mobile-search-input" placeholder="Search everywhere..." autocomplete="off" />
                            <button class="mobile-search-clear" id="mobileSearchClear" onclick="clearMobileSearch()" style="display: none;">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <button class="mobile-search-cancel" onclick="closeMobileSearch()">Cancel</button>
                    </div>
                    
                    <div class="mobile-search-content">
                        <div class="mobile-search-suggestions" id="mobileSearchSuggestions">
                            <div class="mobile-search-section">
                                <h3><i class="fas fa-clock"></i> Recent Searches</h3>
                                <div class="mobile-search-recent" id="mobileSearchRecent">
                                    <div class="mobile-search-item">
                                        <i class="fas fa-history"></i>
                                        <span>Banking documents</span>
                                        <button class="mobile-search-remove"><i class="fas fa-times"></i></button>
                                    </div>
                                    <div class="mobile-search-item">
                                        <i class="fas fa-history"></i>
                                        <span>Password manager</span>
                                        <button class="mobile-search-remove"><i class="fas fa-times"></i></button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mobile-search-section">
                                <h3><i class="fas fa-star"></i> Quick Access</h3>
                                <div class="mobile-search-quick">
                                    <div class="mobile-search-item" onclick="navigateToModuleAndClose('notes')">
                                        <i class="fas fa-pen"></i>
                                        <span>Create new note</span>
                                        <i class="fas fa-chevron-right"></i>
                                    </div>
                                    <div class="mobile-search-item" onclick="navigateToModuleAndClose('passwords')">
                                        <i class="fas fa-key"></i>
                                        <span>Add new password</span>
                                        <i class="fas fa-chevron-right"></i>
                                    </div>
                                    <div class="mobile-search-item" onclick="navigateToModuleAndClose('documents')">
                                        <i class="fas fa-file-alt"></i>
                                        <span>Upload document</span>
                                        <i class="fas fa-chevron-right"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mobile-search-results hidden" id="mobileSearchResults">
                            <div class="mobile-search-results-list" id="mobileSearchResultsList">
                                <!-- Search results will be populated here -->
                            </div>
                        </div>
                        
                        <div class="mobile-search-empty hidden" id="mobileSearchEmpty">
                            <div class="mobile-search-empty-content">
                                <i class="fas fa-search fa-3x"></i>
                                <h3>No results found</h3>
                                <p>Try adjusting your search terms</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <main class="app-main">
                <!-- Dashboard -->
                <div id="dashboard" class="module-content active">
                    <div class="dashboard-grid">
                        <div class="dashboard-card" data-module="notes">
                            <div class="card-header">
                                <i class="fas fa-pen"></i>
                                <h3>Notes</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="notesCount">0</span>
                                <span class="stat-label">Total Notes</span>
                            </div>
                            <div class="card-recent" id="recentNotes"></div>
                        </div>

                        <div class="dashboard-card" data-module="banking">
                            <div class="card-header">
                                <i class="fas fa-university"></i>
                                <h3>Banking</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="bankingCount">0</span>
                                <span class="stat-label">Bank Accounts</span>
                            </div>
                            <div class="card-recent" id="recentBanking"></div>
                        </div>

                        <div class="dashboard-card" data-module="passwords">
                            <div class="card-header">
                                <i class="fas fa-key"></i>
                                <h3>Passwords</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="passwordsCount">0</span>
                                <span class="stat-label">Saved Passwords</span>
                            </div>
                            <div class="card-recent" id="recentPasswords"></div>
                        </div>

                        <div class="dashboard-card" data-module="documents">
                            <div class="card-header">
                                <i class="fas fa-file-alt"></i>
                                <h3>Documents</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="documentsCount">0</span>
                                <span class="stat-label">Documents</span>
                            </div>
                            <div class="card-recent" id="recentDocuments"></div>
                        </div>

                        <div class="dashboard-card" data-module="creative">
                            <div class="card-header">
                                <i class="fas fa-palette"></i>
                                <h3>Creative</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="creativeCount">0</span>
                                <span class="stat-label">Projects</span>
                            </div>
                            <div class="card-recent" id="recentCreative"></div>
                        </div>

                        <div class="dashboard-card" data-module="todos">
                            <div class="card-header">
                                <i class="fas fa-tasks"></i>
                                <h3>To-Do</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="todosCount">0</span>
                                <span class="stat-label">Active Tasks</span>
                            </div>
                            <div class="card-recent" id="recentTodos"></div>
                        </div>
                    </div>
                </div>

                <!-- Notes Module -->
                <div id="notes" class="module-content">
                    <div class="notes-app-container">
                        <!-- Left Sidebar - Notes Navigator -->
                        <div class="notes-sidebar">
                            <div class="notes-sidebar-header">
                                <h2><i class="fas fa-pen"></i> Notes</h2>
                                <button class="btn-icon" onclick="notesModule.createNote()" title="New Note">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            
                            <div class="notes-sidebar-search">
                                <input type="text" id="notesSearch" placeholder="Search notes..." />
                            </div>
                            
                            <div class="notes-sidebar-controls">
                                <select id="notesSortBy">
                                    <option value="modified">Recent</option>
                                    <option value="created">Date Created</option>
                                    <option value="title">Title</option>
                                </select>
                                <span class="notes-count" id="notesCount">0 notes</span>
                            </div>
                            
                            <div class="notes-list" id="notesList"></div>
                        </div>
                        
                        <!-- Main Content Area -->
                        <div class="notes-main">
                            <!-- Top Toolbar -->
                            <div class="notes-toolbar" id="notesToolbar">
                                <div class="toolbar-left">
                                    <button class="toolbar-btn" onclick="notesModule.formatText('bold')" title="Bold">
                                        <i class="fas fa-bold"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="notesModule.formatText('italic')" title="Italic">
                                        <i class="fas fa-italic"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="notesModule.formatText('underline')" title="Underline">
                                        <i class="fas fa-underline"></i>
                                    </button>
                                    <div class="toolbar-separator"></div>
                                    <button class="toolbar-btn" onclick="notesModule.formatText('insertUnorderedList')" title="Bullet List">
                                        <i class="fas fa-list-ul"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="notesModule.formatText('insertOrderedList')" title="Numbered List">
                                        <i class="fas fa-list-ol"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="notesModule.insertLink()" title="Link">
                                        <i class="fas fa-link"></i>
                                    </button>
                                </div>
                                <div class="toolbar-right">
                                    <button class="toolbar-btn" onclick="notesModule.shareNote()" title="Share">
                                        <i class="fas fa-share"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="notesModule.exportCurrentNote()" title="Export">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="notesModule.deleteCurrentNote()" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Note Editor Area -->
                            <div class="notes-editor-container" id="notesEditorContainer">
                                <div class="notes-empty-state" id="notesEmptyState">
                                    <i class="fas fa-sticky-note fa-4x"></i>
                                    <h3>Select a note to view</h3>
                                    <p>Choose a note from the sidebar or create a new one</p>
                                    <button class="btn-primary" onclick="notesModule.createNote()">
                                        <i class="fas fa-plus"></i> Create Your First Note
                                    </button>
                                </div>
                                
                                <div class="notes-editor hidden" id="notesEditor">
                                    <div class="note-title-container">
                                        <input type="text" id="noteTitle" class="note-title-input" placeholder="Untitled Note..." />
                                    </div>
                                    
                                    <div class="note-tags-container">
                                        <input type="text" id="noteTags" class="note-tags-input" placeholder="Add tags (comma-separated)..." />
                                    </div>
                                    
                                    <div class="note-content-container">
                                        <div id="noteContent" class="note-content-editor" contenteditable="true" placeholder="Start typing your note..."></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Banking Module -->
                <div id="banking" class="module-content">
                    <div class="module-header">
                        <h2><i class="fas fa-university"></i> Banking</h2>
                        <button class="btn-primary" onclick="createBankAccount()">
                            <i class="fas fa-plus"></i> Add Account
                        </button>
                    </div>
                    <div class="module-toolbar">
                        <input type="text" id="bankingSearch" placeholder="Search accounts..." />
                    </div>
                    <div id="bankingList" class="items-grid"></div>
                </div>

                <!-- Passwords Module -->
                <div id="passwords" class="module-content">
                    <div class="module-header">
                        <h2><i class="fas fa-key"></i> Passwords</h2>
                        <button class="btn-primary" onclick="createPassword()">
                            <i class="fas fa-plus"></i> Add Password
                        </button>
                    </div>
                    <div class="module-toolbar">
                        <input type="text" id="passwordsSearch" placeholder="Search passwords..." />
                        <select id="passwordsCategory">
                            <option value="">All Categories</option>
                            <option value="work">Work</option>
                            <option value="personal">Personal</option>
                            <option value="financial">Financial</option>
                            <option value="shopping">Shopping</option>
                        </select>
                    </div>
                    <div id="passwordsList" class="items-grid"></div>
                </div>

                <!-- Documents Module -->
                <div id="documents" class="module-content">
                    <div class="documents-manager-container">
                        <!-- Left Sidebar - Folder Navigator -->
                        <div class="documents-sidebar">
                            <div class="documents-sidebar-header">
                                <h2><i class="fas fa-file-alt"></i> Documents</h2>
                                <div class="sidebar-actions">
                                    <button class="btn-icon" onclick="documentsModule.createFolder()" title="New Folder">
                                        <i class="fas fa-folder-plus"></i>
                                    </button>
                                    <label class="btn-icon" title="Upload Files">
                                        <i class="fas fa-upload"></i>
                                        <input type="file" id="documentUpload" multiple style="display: none;" />
                                    </label>
                                </div>
                            </div>
                            
                            <div class="documents-sidebar-search">
                                <input type="text" id="documentsSearch" placeholder="Search documents..." />
                            </div>
                            
                            <div class="documents-sidebar-controls">
                                <select id="documentsFilter">
                                    <option value="">All Types</option>
                                    <option value="pdf">PDF</option>
                                    <option value="doc">Documents</option>
                                    <option value="image">Images</option>
                                    <option value="spreadsheet">Spreadsheets</option>
                                </select>
                                <span class="documents-count" id="documentsCount">0 items</span>
                            </div>
                            
                            <!-- Folder Tree -->
                            <div class="folder-tree" id="folderTree">
                                <div class="folder-item root-folder selected" data-folder-id="root" onclick="documentsModule.selectFolder('root')">
                                    <div class="folder-content">
                                        <i class="fas fa-home"></i>
                                        <span>All Documents</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Main Content Area -->
                        <div class="documents-main">
                            <!-- Top Toolbar -->
                            <div class="documents-toolbar" id="documentsToolbar">
                                <div class="toolbar-left">
                                    <div class="breadcrumb" id="documentsBreadcrumb">
                                        <span class="breadcrumb-item active">All Documents</span>
                                    </div>
                                </div>
                                <div class="toolbar-right">
                                    <select id="documentsViewMode" onchange="documentsModule.changeViewMode(this.value)">
                                        <option value="grid">Grid View</option>
                                        <option value="list">List View</option>
                                    </select>
                                    <select id="documentsSortBy" onchange="documentsModule.sortDocuments(this.value)">
                                        <option value="name">Name</option>
                                        <option value="date">Date Modified</option>
                                        <option value="size">Size</option>
                                        <option value="type">Type</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Documents Grid/List -->
                            <div class="documents-content" id="documentsContent">
                                <div class="documents-empty-state" id="documentsEmptyState">
                                    <div class="file-upload-area" onclick="document.getElementById('documentUpload').click()">
                                        <div class="upload-icon-container">
                                            <i class="fas fa-cloud-upload-alt"></i>
                                            <div class="upload-pulse"></div>
                                        </div>
                                        <h3>No Documents Yet</h3>
                                        <p>Upload your first document or drag & drop files here</p>
                                        <button class="btn-primary modern-btn">
                                            <i class="fas fa-upload"></i>
                                            <span>Upload Documents</span>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="documents-grid hidden" id="documentsGrid"></div>
                                <div class="documents-list hidden" id="documentsList"></div>
                            </div>
                            
                            <!-- Status Bar -->
                            <div class="documents-status-bar" id="documentsStatusBar">
                                <div class="status-left">
                                    <span class="status-info" id="statusInfo">Ready</span>
                                </div>
                                <div class="status-center">
                                    <div class="selection-info hidden" id="selectionInfo">
                                        <span id="selectionCount">0</span> items selected
                                        <div class="selection-actions">
                                            <button class="status-action" onclick="documentsModule.downloadSelected()" title="Download Selected">
                                                <i class="fas fa-download"></i>
                                            </button>
                                            <button class="status-action" onclick="documentsModule.deleteSelected()" title="Delete Selected">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                            <button class="status-action" onclick="documentsModule.clearSelection()" title="Clear Selection">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="status-right">
                                    <div class="view-toggle">
                                        <button class="view-btn active" data-view="grid" onclick="documentsModule.setViewMode('grid')" title="Grid View">
                                            <i class="fas fa-th"></i>
                                        </button>
                                        <button class="view-btn" data-view="list" onclick="documentsModule.setViewMode('list')" title="List View">
                                            <i class="fas fa-list"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Context Menu -->
                        <div class="context-menu hidden" id="contextMenu">
                            <div class="context-menu-item" data-action="open">
                                <i class="fas fa-eye"></i>
                                <span>Open</span>
                            </div>
                            <div class="context-menu-item" data-action="rename">
                                <i class="fas fa-edit"></i>
                                <span>Rename</span>
                            </div>
                            <div class="context-menu-item" data-action="download">
                                <i class="fas fa-download"></i>
                                <span>Download</span>
                            </div>
                            <div class="context-menu-separator"></div>
                            <div class="context-menu-item" data-action="move">
                                <i class="fas fa-folder-open"></i>
                                <span>Move to...</span>
                            </div>
                            <div class="context-menu-item" data-action="copy">
                                <i class="fas fa-copy"></i>
                                <span>Duplicate</span>
                            </div>
                            <div class="context-menu-separator"></div>
                            <div class="context-menu-item danger" data-action="delete">
                                <i class="fas fa-trash"></i>
                                <span>Delete</span>
                            </div>
                        </div>
                        
                        <!-- Floating Action Button -->
                        <div class="fab-container" id="fabContainer">
                            <button class="fab main-fab" onclick="documentsModule.toggleFabMenu()">
                                <i class="fas fa-plus"></i>
                            </button>
                            <div class="fab-menu hidden" id="fabMenu">
                                <button class="fab mini-fab" onclick="document.getElementById('documentUpload').click()" title="Upload Files">
                                    <i class="fas fa-upload"></i>
                                </button>
                                <button class="fab mini-fab" onclick="documentsModule.createFolder()" title="New Folder">
                                    <i class="fas fa-folder-plus"></i>
                                </button>
                                <button class="fab mini-fab" onclick="documentsModule.pasteFromClipboard()" title="Paste">
                                    <i class="fas fa-paste"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Creative Module -->
                <div id="creative" class="module-content">
                    <div class="module-header">
                        <h2><i class="fas fa-palette"></i> Creative</h2>
                        <button class="btn-primary" onclick="createCreativeProject()">
                            <i class="fas fa-plus"></i> New Project
                        </button>
                    </div>
                    <div class="module-toolbar">
                        <input type="text" id="creativeSearch" placeholder="Search projects..." />
                    </div>
                    <div id="creativeList" class="items-grid"></div>
                </div>

                <!-- Todos Module -->
                <div id="todos" class="module-content">
                    <div class="module-header">
                        <h2><i class="fas fa-tasks"></i> To-Do</h2>
                        <button class="btn-primary" onclick="createTodo()">
                            <i class="fas fa-plus"></i> New Task
                        </button>
                    </div>
                    <div class="module-toolbar">
                        <input type="text" id="todosSearch" placeholder="Search tasks..." />
                        <select id="todosFilter">
                            <option value="">All Tasks</option>
                            <option value="pending">Pending</option>
                            <option value="completed">Completed</option>
                            <option value="overdue">Overdue</option>
                        </select>
                        <select id="todosPriority">
                            <option value="">All Priorities</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    <div id="todosList" class="items-grid"></div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modals -->
    <div id="modalOverlay" class="modal-overlay">
        <div id="modalContent" class="modal-content"></div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
        import { 
            getAuth, 
            createUserWithEmailAndPassword, 
            signInWithEmailAndPassword,
            signOut,
            onAuthStateChanged,
            updateProfile,
            sendPasswordResetEmail,
            GoogleAuthProvider,
            GithubAuthProvider,
            signInWithPopup
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { 
            getFirestore, 
            doc, 
            setDoc, 
            getDoc, 
            updateDoc, 
            deleteDoc, 
            collection, 
            query, 
            where, 
            getDocs,
            orderBy,
            serverTimestamp
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyDh7tcdyCWbmUcWx0qKTo-AdT4QNO6ZCHc",
          authDomain: "my-notes-app-a9568.firebaseapp.com",
          projectId: "my-notes-app-a9568",
          storageBucket: "my-notes-app-a9568.firebasestorage.app",
          messagingSenderId: "5575127275",
          appId: "1:5575127275:web:0aa341a0d811adf3b24eae",
          measurementId: "G-DXEHTJ4FB8"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);
        const db = getFirestore(app);
        
        // Configure Auth providers
        const googleProvider = new GoogleAuthProvider();
        const githubProvider = new GithubAuthProvider();
        
        // Make Firebase services available globally
        window.firebaseApp = app;
        window.firebaseAnalytics = analytics;
        window.firebaseAuth = auth;
        window.firebaseDb = db;
        window.firebaseProviders = {
            google: googleProvider,
            github: githubProvider
        };
        
        // Make Firebase functions available globally
        window.firebaseFunctions = {
            // Auth functions
            createUserWithEmailAndPassword,
            signInWithEmailAndPassword,
            signOut,
            onAuthStateChanged,
            updateProfile,
            sendPasswordResetEmail,
            signInWithPopup,
            
            // Firestore functions
            doc,
            setDoc,
            getDoc,
            updateDoc,
            deleteDoc,
            collection,
            query,
            where,
            getDocs,
            orderBy,
            serverTimestamp
        };
    </script>

    <script src="js/crypto.js"></script>
    <!-- Firebase-integrated scripts -->
    <script src="js/firebase-auth.js"></script>
    <script src="js/firebase-storage.js"></script>
    <!-- Simple auth fallback -->
    <script src="js/simple-auth.js"></script>
    <!-- Legacy scripts for backward compatibility -->
    <script src="js/storage.js"></script>
    <script src="js/auth.js"></script>
    <!-- Main application -->
    <script src="js/app.js"></script>
    <script src="js/notes.js"></script>
    <script src="js/banking.js"></script>
    <script src="js/passwords.js"></script>
    <script src="js/documents.js"></script>
    <script src="js/creative.js"></script>
    <script src="js/todos.js"></script>
</body>
</html>