<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ballpenbox</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Authentication Screen -->
        <div id="authScreen" class="auth-screen">
            <!-- Welcome Landing with Split Layout -->
            <div id="welcomeSection" class="welcome-section">
                <div class="welcome-split-container">
                    <!-- Left Side: Branding and Features -->
                    <div class="welcome-left">
                        <div class="welcome-content">
                            <div class="app-branding">
                                <div class="app-icon">
                                    <i class="fas fa-pen"></i>
                                </div>
                                <h1>ballpenbox</h1>
                                <p class="tagline">Your personal, secure workspace for everything that matters</p>
                            </div>
                            
                            <div class="feature-highlights">
                                <div class="feature-item">
                                    <i class="fas fa-shield-alt"></i>
                                    <h3>Bank-Grade Security</h3>
                                    <p>End-to-end encryption keeps your data safe</p>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-cloud"></i>
                                    <h3>Sync Everywhere</h3>
                                    <p>Access your notes from any device, anywhere</p>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-pen-fancy"></i>
                                    <h3>Rich Features</h3>
                                    <p>Notes, passwords, documents, and creative projects</p>
                                </div>
                            </div>
                            
                            <div class="trust-indicators">
                                <div class="trust-item">
                                    <i class="fas fa-lock"></i>
                                    <span>256-bit encryption</span>
                                </div>
                                <div class="trust-item">
                                    <i class="fas fa-user-shield"></i>
                                    <span>Zero-knowledge architecture</span>
                                </div>
                                <div class="trust-item">
                                    <i class="fas fa-eye-slash"></i>
                                    <span>Private by design</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Side: Login Form (Always Visible) -->
                    <div class="welcome-right">
                        <div class="auth-container">
                            <div class="auth-header">
                                <h2>Welcome Back</h2>
                                <p>Sign in to your ballpenbox account</p>
                                <div style="background: #f3f4f6; padding: 0.75rem; border-radius: 6px; margin: 1rem 0; font-size: 0.85rem; color: #374151;">
                                    <strong>Demo Account for Testing:</strong><br>
                                    Email: demo@ballpenbox.com<br>
                                    Password: demo123
                                </div>
                            </div>
                            
                            <form id="loginForm" class="auth-form">
                                <div class="form-group">
                                    <label for="loginEmail" class="form-label">Email Address</label>
                                    <input type="email" id="loginEmail" class="form-input" placeholder="Enter your email" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="loginPassword" class="form-label">Password</label>
                                    <div class="password-input-container">
                                        <input type="password" id="loginPassword" class="form-input" placeholder="Enter your password" required>
                                        <button type="button" class="password-toggle" onclick="togglePasswordVisibility('loginPassword')">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="form-options">
                                    <label class="checkbox-container">
                                        <input type="checkbox" id="rememberMe">
                                        <span class="checkmark"></span>
                                        Remember me
                                    </label>
                                    <a href="#" class="forgot-password" onclick="showForgotPassword()">Forgot password?</a>
                                </div>
                                
                                <button type="submit" class="btn-primary full-width" id="loginBtn">
                                    <span class="btn-text">Sign In</span>
                                    <div class="btn-spinner hidden">
                                        <div class="spinner"></div>
                                    </div>
                                </button>
                                
                                <div class="auth-divider">
                                    <span>or continue with</span>
                                </div>
                                
                                <div class="social-login">
                                    <button type="button" class="btn-social google" onclick="loginWithGoogle()">
                                        <i class="fab fa-google"></i>
                                        Google
                                    </button>
                                    <button type="button" class="btn-social github" onclick="loginWithGitHub()">
                                        <i class="fab fa-github"></i>
                                        GitHub
                                    </button>
                                </div>
                                
                                <div class="auth-switch">
                                    <p>Don't have an account? <a href="#" onclick="showRegister()">Sign up</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Login Form (now integrated into welcome section above) -->
            <div id="loginSection" class="auth-form-section hidden">
                <!-- This section is now unused - login form is in the welcome section -->
            </div>
            
            <!-- Registration Form -->
            <div id="registerSection" class="auth-form-section hidden">
                <div class="auth-container">
                    <div class="auth-header">
                        <button class="back-btn" onclick="showWelcome()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2>Create Account</h2>
                        <p>Join thousands of users who trust ballpenbox</p>
                    </div>
                    
                    <form id="registerForm" class="auth-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName" class="form-label">First Name</label>
                                <input type="text" id="firstName" class="form-input" placeholder="John" required>
                            </div>
                            <div class="form-group">
                                <label for="lastName" class="form-label">Last Name</label>
                                <input type="text" id="lastName" class="form-input" placeholder="Doe" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerEmail" class="form-label">Email Address</label>
                            <input type="email" id="registerEmail" class="form-input" placeholder="john@example.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerPassword" class="form-label">Password</label>
                            <div class="password-input-container">
                                <input type="password" id="registerPassword" class="form-input" placeholder="Create a strong password" required>
                                <button type="button" class="password-toggle" onclick="togglePasswordVisibility('registerPassword')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="password-strength" id="registerPasswordStrength" style="display: none;">
                                <div class="strength-bar">
                                    <div class="strength-fill"></div>
                                </div>
                                <div class="strength-text"></div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirmPassword" class="form-label">Confirm Password</label>
                            <div class="password-input-container">
                                <input type="password" id="confirmPassword" class="form-input" placeholder="Confirm your password" required>
                                <button type="button" class="password-toggle" onclick="togglePasswordVisibility('confirmPassword')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="agreeTerms" required>
                                <span class="checkmark"></span>
                                I agree to the <a href="#" onclick="showTerms()">Terms of Service</a> and <a href="#" onclick="showPrivacy()">Privacy Policy</a>
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="marketingEmails">
                                <span class="checkmark"></span>
                                Send me product updates and tips (optional)
                            </label>
                        </div>
                        
                        <button type="submit" class="btn-primary full-width" id="registerBtn">
                            <span class="btn-text">Create Account</span>
                            <div class="btn-spinner hidden">
                                <div class="spinner"></div>
                            </div>
                        </button>
                        
                        <div class="auth-divider">
                            <span>or sign up with</span>
                        </div>
                        
                        <div class="social-login">
                            <button type="button" class="btn-social google" onclick="registerWithGoogle()">
                                <i class="fab fa-google"></i>
                                Google
                            </button>
                            <button type="button" class="btn-social github" onclick="registerWithGitHub()">
                                <i class="fab fa-github"></i>
                                GitHub
                            </button>
                        </div>
                        
                        <div class="auth-switch">
                            <p>Already have an account? <a href="#" onclick="showLogin()">Sign in</a></p>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Forgot Password Form -->
            <div id="forgotPasswordSection" class="auth-form-section hidden">
                <div class="auth-container">
                    <div class="auth-header">
                        <button class="back-btn" onclick="showLogin()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2>Reset Password</h2>
                        <p>Enter your email to receive a reset link</p>
                    </div>
                    
                    <form id="forgotPasswordForm" class="auth-form">
                        <div class="form-group">
                            <label for="resetEmail" class="form-label">Email Address</label>
                            <input type="email" id="resetEmail" class="form-input" placeholder="Enter your email" required>
                        </div>
                        
                        <button type="submit" class="btn-primary full-width" id="resetBtn">
                            <span class="btn-text">Send Reset Link</span>
                            <div class="btn-spinner hidden">
                                <div class="spinner"></div>
                            </div>
                        </button>
                        
                        <div class="auth-switch">
                            <p>Remember your password? <a href="#" onclick="showLogin()">Sign in</a></p>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Main Application -->
        <div id="mainApp" class="main-app hidden">
            <!-- Header -->
            <header class="app-header">
                <div class="header-content">
                    <h1><i class="fas fa-pen"></i> ballpenbox</h1>
                    <div class="header-actions">
                        <div class="search-container">
                            <input type="text" id="globalSearch" placeholder="Search everywhere..." />
                            <i class="fas fa-search"></i>
                        </div>
                        <button class="theme-toggle" onclick="toggleTheme()">
                            <i class="fas fa-moon"></i>
                        </button>
                        <div class="user-menu">
                            <button class="user-profile-btn" onclick="toggleUserMenu()">
                                <div class="user-avatar" id="userAvatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <span class="user-name" id="userName">User</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="user-dropdown hidden" id="userDropdown">
                                <div class="user-info">
                                    <div class="user-avatar-large">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div class="user-details">
                                        <div class="user-name-large" id="userNameLarge">John Doe</div>
                                        <div class="user-email" id="userEmail">john@example.com</div>
                                    </div>
                                </div>
                                <div class="dropdown-divider"></div>
                                <a href="#" class="dropdown-item" onclick="showAccountSettings()">
                                    <i class="fas fa-cog"></i>
                                    Account Settings
                                </a>
                                <a href="#" class="dropdown-item" onclick="showBilling()">
                                    <i class="fas fa-credit-card"></i>
                                    Billing & Plans
                                </a>
                                <a href="#" class="dropdown-item" onclick="exportAllData()">
                                    <i class="fas fa-download"></i>
                                    Export Data
                                </a>
                                <div class="dropdown-divider"></div>
                                <a href="#" class="dropdown-item" onclick="showHelp()">
                                    <i class="fas fa-question-circle"></i>
                                    Help & Support
                                </a>
                                <a href="#" class="dropdown-item logout" onclick="logoutUser()">
                                    <i class="fas fa-sign-out-alt"></i>
                                    Sign Out
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Navigation -->
            <nav class="app-nav">
                <div class="nav-item active" data-module="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" data-module="notes">
                    <i class="fas fa-pen"></i>
                    <span>Notes</span>
                </div>
                <div class="nav-item" data-module="banking">
                    <i class="fas fa-university"></i>
                    <span>Banking</span>
                </div>
                <div class="nav-item" data-module="passwords">
                    <i class="fas fa-key"></i>
                    <span>Passwords</span>
                </div>
                <div class="nav-item" data-module="documents">
                    <i class="fas fa-file-alt"></i>
                    <span>Documents</span>
                </div>
                <div class="nav-item" data-module="creative">
                    <i class="fas fa-palette"></i>
                    <span>Creative</span>
                </div>
                <div class="nav-item" data-module="todos">
                    <i class="fas fa-tasks"></i>
                    <span>To-Do</span>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="app-main">
                <!-- Dashboard -->
                <div id="dashboard" class="module-content active">
                    <div class="dashboard-grid">
                        <div class="dashboard-card" data-module="notes">
                            <div class="card-header">
                                <i class="fas fa-pen"></i>
                                <h3>Notes</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="notesCount">0</span>
                                <span class="stat-label">Total Notes</span>
                            </div>
                            <div class="card-recent" id="recentNotes"></div>
                        </div>

                        <div class="dashboard-card" data-module="banking">
                            <div class="card-header">
                                <i class="fas fa-university"></i>
                                <h3>Banking</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="bankingCount">0</span>
                                <span class="stat-label">Bank Accounts</span>
                            </div>
                            <div class="card-recent" id="recentBanking"></div>
                        </div>

                        <div class="dashboard-card" data-module="passwords">
                            <div class="card-header">
                                <i class="fas fa-key"></i>
                                <h3>Passwords</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="passwordsCount">0</span>
                                <span class="stat-label">Saved Passwords</span>
                            </div>
                            <div class="card-recent" id="recentPasswords"></div>
                        </div>

                        <div class="dashboard-card" data-module="documents">
                            <div class="card-header">
                                <i class="fas fa-file-alt"></i>
                                <h3>Documents</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="documentsCount">0</span>
                                <span class="stat-label">Documents</span>
                            </div>
                            <div class="card-recent" id="recentDocuments"></div>
                        </div>

                        <div class="dashboard-card" data-module="creative">
                            <div class="card-header">
                                <i class="fas fa-palette"></i>
                                <h3>Creative</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="creativeCount">0</span>
                                <span class="stat-label">Projects</span>
                            </div>
                            <div class="card-recent" id="recentCreative"></div>
                        </div>

                        <div class="dashboard-card" data-module="todos">
                            <div class="card-header">
                                <i class="fas fa-tasks"></i>
                                <h3>To-Do</h3>
                            </div>
                            <div class="card-stats">
                                <span class="stat-number" id="todosCount">0</span>
                                <span class="stat-label">Active Tasks</span>
                            </div>
                            <div class="card-recent" id="recentTodos"></div>
                        </div>
                    </div>
                </div>

                <!-- Notes Module -->
                <div id="notes" class="module-content">
                    <div class="module-header">
                        <h2><i class="fas fa-pen"></i> Notes</h2>
                        <button class="btn-primary" onclick="createNote()">
                            <i class="fas fa-plus"></i> New Note
                        </button>
                    </div>
                    <div class="module-toolbar">
                        <input type="text" id="notesSearch" placeholder="Search notes..." />
                        <select id="notesSortBy">
                            <option value="modified">Modified Date</option>
                            <option value="created">Created Date</option>
                            <option value="title">Title</option>
                        </select>
                    </div>
                    <div id="notesList" class="items-grid"></div>
                </div>

                <!-- Banking Module -->
                <div id="banking" class="module-content">
                    <div class="module-header">
                        <h2><i class="fas fa-university"></i> Banking</h2>
                        <div class="header-actions">
                            <button class="btn-secondary" id="addAccountBtn" onclick="createBankAccount()">
                                <i class="fas fa-university"></i> Add Account
                            </button>
                            <button class="btn-primary" id="addCardBtn" onclick="bankingModule.createCard()">
                                <i class="fas fa-credit-card"></i> Add Card
                            </button>
                        </div>
                    </div>
                    
                    <!-- Banking Tabs -->
                    <div class="banking-tabs">
                        <button class="tab-btn active" onclick="bankingModule.switchTab('accounts')">
                            <i class="fas fa-university"></i> Accounts
                        </button>
                        <button class="tab-btn" onclick="bankingModule.switchTab('cards')">
                            <i class="fas fa-credit-card"></i> Cards
                        </button>
                    </div>
                    
                    <!-- Accounts Tab -->
                    <div id="banking-accounts" class="banking-tab-content active">
                        <div class="module-toolbar">
                            <input type="text" id="bankingSearch" placeholder="Search accounts..." />
                        </div>
                        <div id="bankingList" class="items-grid"></div>
                    </div>
                    
                    <!-- Cards Tab -->
                    <div id="banking-cards" class="banking-tab-content">
                        <div class="module-toolbar">
                            <input type="text" id="cardsSearch" placeholder="Search cards..." />
                            <select id="cardsFilter">
                                <option value="">All Cards</option>
                                <option value="credit">Credit Cards</option>
                                <option value="debit">Debit Cards</option>
                                <option value="prepaid">Prepaid Cards</option>
                                <option value="gift">Gift Cards</option>
                                <option value="store">Store Cards</option>
                            </select>
                            <select id="cardsCategory">
                                <option value="">All Categories</option>
                                <option value="personal">Personal</option>
                                <option value="business">Business</option>
                                <option value="family">Family</option>
                            </select>
                        </div>
                        <div id="cardsList" class="items-grid"></div>
                    </div>
                </div>

                <!-- Passwords Module -->
                <div id="passwords" class="module-content">
                    <div class="module-header">
                        <h2><i class="fas fa-key"></i> Passwords</h2>
                        <button class="btn-primary" onclick="createPassword()">
                            <i class="fas fa-plus"></i> Add Password
                        </button>
                    </div>
                    <div class="module-toolbar">
                        <input type="text" id="passwordsSearch" placeholder="Search passwords..." />
                        <select id="passwordsCategory">
                            <option value="">All Categories</option>
                            <option value="work">Work</option>
                            <option value="personal">Personal</option>
                            <option value="financial">Financial</option>
                            <option value="shopping">Shopping</option>
                        </select>
                    </div>
                    <div id="passwordsList" class="items-grid"></div>
                </div>

                <!-- Documents Module -->
                <div id="documents" class="module-content">
                    <div class="module-header">
                        <h2><i class="fas fa-file-alt"></i> Documents</h2>
                        <div class="header-actions">
                            <button class="btn-secondary" onclick="documentsModule.createFolder()">
                                <i class="fas fa-folder-plus"></i> New Folder
                            </button>
                            <label class="btn-primary file-upload-btn">
                                <i class="fas fa-upload"></i> Upload Document
                                <input type="file" id="documentUpload" multiple style="display: none;" />
                            </label>
                        </div>
                    </div>
                    
                    <!-- Documents Layout -->
                    <div class="documents-layout">
                        <!-- Folder Navigation -->
                        <div class="folder-navigation">
                            <div class="breadcrumb" id="folderBreadcrumb">
                                <span class="breadcrumb-item active" onclick="documentsModule.navigateToFolder('')">
                                    <i class="fas fa-home"></i> Root
                                </span>
                            </div>
                            
                            <div class="folder-tree" id="folderTree">
                                <!-- Folder tree will be rendered here -->
                            </div>
                        </div>
                        
                        <!-- Main Content Area -->
                        <div class="documents-content">
                            <div class="module-toolbar">
                                <input type="text" id="documentsSearch" placeholder="Search in current folder..." />
                                <select id="documentsFilter">
                                    <option value="">All Types</option>
                                    <option value="pdf">PDF</option>
                                    <option value="doc">Documents</option>
                                    <option value="image">Images</option>
                                </select>
                                <select id="documentsSort">
                                    <option value="name">Sort by Name</option>
                                    <option value="date">Sort by Date</option>
                                    <option value="size">Sort by Size</option>
                                    <option value="type">Sort by Type</option>
                                </select>
                            </div>
                            
                            <!-- Current Folder Info -->
                            <div class="current-folder-info" id="currentFolderInfo">
                                <h3 class="folder-title">
                                    <i class="fas fa-home"></i> 
                                    <span id="currentFolderName">Root Folder</span>
                                </h3>
                                <div class="folder-stats" id="folderStats">
                                    <span class="stat-item">
                                        <i class="fas fa-folder"></i>
                                        <span id="folderCount">0</span> folders
                                    </span>
                                    <span class="stat-item">
                                        <i class="fas fa-file"></i>
                                        <span id="fileCount">0</span> files
                                    </span>
                                </div>
                            </div>
                            
                            <!-- Folders and Files Grid -->
                            <div id="documentsList" class="documents-grid">
                                <!-- Folders and files will be rendered here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Creative Module -->
                <div id="creative" class="module-content">
                    <div class="module-header">
                        <h2><i class="fas fa-palette"></i> Creative</h2>
                        <button class="btn-primary" onclick="createCreativeProject()">
                            <i class="fas fa-plus"></i> New Project
                        </button>
                    </div>
                    <div class="module-toolbar">
                        <input type="text" id="creativeSearch" placeholder="Search projects..." />
                    </div>
                    <div id="creativeList" class="items-grid"></div>
                </div>

                <!-- Todos Module -->
                <div id="todos" class="module-content">
                    <div class="module-header">
                        <h2><i class="fas fa-tasks"></i> To-Do</h2>
                        <button class="btn-primary" onclick="createTodo()">
                            <i class="fas fa-plus"></i> New Task
                        </button>
                    </div>
                    <div class="module-toolbar">
                        <input type="text" id="todosSearch" placeholder="Search tasks..." />
                        <select id="todosFilter">
                            <option value="">All Tasks</option>
                            <option value="pending">Pending</option>
                            <option value="completed">Completed</option>
                            <option value="overdue">Overdue</option>
                        </select>
                        <select id="todosPriority">
                            <option value="">All Priorities</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    <div id="todosList" class="items-grid"></div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modals -->
    <div id="modalOverlay" class="modal-overlay">
        <div id="modalContent" class="modal-content"></div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
        import { 
            getAuth, 
            createUserWithEmailAndPassword, 
            signInWithEmailAndPassword,
            signOut,
            onAuthStateChanged,
            updateProfile,
            sendPasswordResetEmail,
            GoogleAuthProvider,
            GithubAuthProvider,
            signInWithPopup
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { 
            getFirestore, 
            doc, 
            setDoc, 
            getDoc, 
            updateDoc, 
            deleteDoc, 
            collection, 
            query, 
            where, 
            getDocs,
            orderBy,
            serverTimestamp
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyDh7tcdyCWbmUcWx0qKTo-AdT4QNO6ZCHc",
          authDomain: "my-notes-app-a9568.firebaseapp.com",
          projectId: "my-notes-app-a9568",
          storageBucket: "my-notes-app-a9568.firebasestorage.app",
          messagingSenderId: "5575127275",
          appId: "1:5575127275:web:0aa341a0d811adf3b24eae",
          measurementId: "G-DXEHTJ4FB8"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);
        const db = getFirestore(app);
        
        // Configure Auth providers
        const googleProvider = new GoogleAuthProvider();
        const githubProvider = new GithubAuthProvider();
        
        // Make Firebase services available globally
        window.firebaseApp = app;
        window.firebaseAnalytics = analytics;
        window.firebaseAuth = auth;
        window.firebaseDb = db;
        window.firebaseProviders = {
            google: googleProvider,
            github: githubProvider
        };
        
        // Make Firebase functions available globally
        window.firebaseFunctions = {
            // Auth functions
            createUserWithEmailAndPassword,
            signInWithEmailAndPassword,
            signOut,
            onAuthStateChanged,
            updateProfile,
            sendPasswordResetEmail,
            signInWithPopup,
            
            // Firestore functions
            doc,
            setDoc,
            getDoc,
            updateDoc,
            deleteDoc,
            collection,
            query,
            where,
            getDocs,
            orderBy,
            serverTimestamp
        };
    </script>

    <script src="js/crypto.js"></script>
    <!-- Firebase-integrated scripts -->
    <script src="js/firebase-auth.js"></script>
    <script src="js/firebase-storage.js"></script>
    <!-- Simple auth fallback -->
    <script src="js/simple-auth.js"></script>
    <!-- Legacy scripts for backward compatibility -->
    <script src="js/storage.js"></script>
    <script src="js/auth.js"></script>
    <!-- Main application -->
    <script src="js/app.js"></script>
    <script src="js/notes.js"></script>
    <script src="js/banking.js"></script>
    <script src="js/card-editor.js"></script>
    <script src="js/passwords.js"></script>
    <script src="js/documents.js"></script>
    <script src="js/documents-folders.js"></script>
    <script src="js/creative.js"></script>
    <script src="js/todos.js"></script>
    <script src="js/module-init-check.js"></script>
</body>
</html>